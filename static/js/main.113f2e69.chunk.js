(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{49:function(e,t,a){e.exports=a.p+"static/media/Bitcoin.d7876d48.svg"},50:function(e,t,a){e.exports={play:"SendTransaction_play__2CC_H",but:"SendTransaction_but__1fDd-"}},51:function(e,t,a){e.exports={col:"Spinner_col__1cgZV",spinning:"Spinner_spinning__2XuZ7","x-spin":"Spinner_x-spin__178IK"}},62:function(e,t,a){e.exports=a.p+"static/media/credits.fb327aab.png"},65:function(e,t,a){e.exports={loginWrap:"Login_loginWrap__30vAy"}},7:function(e,t,a){e.exports={gridcontainer:"Game_gridcontainer__3HLxV",SLOTS:"Game_SLOTS__FWyO9",Balance:"Game_Balance__r2zoT",Win:"Game_Win__2OTZX",topWrap:"Game_topWrap__1m6NY",LOGO:"Game_LOGO__3-qnT",SPIN:"Game_SPIN__6BZpN",Bet:"Game_Bet__1jGlO",Add:"Game_Add__14ham",Remove:"Game_Remove__11Kmq",spinnercontainer:"Game_spinnercontainer__1Yjl5",arrowRight:"Game_arrowRight__1qb10",arrowLeft:"Game_arrowLeft__2iGqC",winner:"Game_winner__MgEGD",winActive:"Game_winActive__2n3vt",rotateBackground:"Game_rotateBackground__2j2ko",scaleForeground:"Game_scaleForeground__3jUzx"}},73:function(e,t,a){e.exports=a(98)},78:function(e,t,a){e.exports=a.p+"static/media/Litecoin.c151518b.svg"},79:function(e,t,a){e.exports=a.p+"static/media/ether.802c6eac.svg"},80:function(e,t,a){e.exports=a.p+"static/media/xrp.026fdd6d.svg"},97:function(e,t,a){e.exports={title:"src_title__2DlC4",menuButton:"src_menuButton__-tJv4"}},98:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(10),l=a.n(s),r=a(147),c=a(143),o=a(37),m=a(25),u=a(21),d=a(15),h=a(23),p=a(22),v=a(24),b=a(7),_=a.n(b),g=a(50),E=a.n(g),f=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={balance:{integral:0,fraction:0,result:null}},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"placeBet",value:function(){this.props.onPlaceBet();var e=Math.random().toString().slice(10);this.setState({gameHash:e});var t=JSON.stringify({gameHash:e});this.sendTransaction({Target:"C3qmJpadn5WrAt2WrE5GwAVqGYcXX6qYGPRuGVET6cQH",Fee:"0.1",Amount:this.props.bet,UserData:t},this.getResult.bind(this))}},{key:"getResult",value:function(){this.sendTransaction({Target:"C3qmJpadn5WrAt2WrE5GwAVqGYcXX6qYGPRuGVET6cQH",Fee:"0.01",SmartContract:{Method:"getResult",NewState:!0}},this.checkResult.bind(this))}},{key:"checkResult",value:function(e){if(e&&e.smart_contract_result.v_string){var t=JSON.parse(e.smart_contract_result.v_string);this.state.gameHash==t.result.gameHash?this.props.callback(e):setTimeout(this.getResult.bind(this),1e3)}else setTimeout(this.getResult.bind(this),1e3)}},{key:"sendTransaction",value:function(e,t){e.Source=window.Base58.decode(window.Cs_PublicKey),e.PrivateKey=window.Base58.decode(window.Cs_PrivateKey);var a=window.SignCS.CreateTransaction(e);this.TransactionFlow(a.Result,t)}},{key:"TransactionFlow",value:function(e,t){window.SignCS.Connect().TransactionFlow(e,t)}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:E.a.play,onClick:this.placeBet.bind(this)},i.a.createElement("div",{className:E.a.but},"Spin")))}}]),t}(i.a.Component),w=a(28),y=a(51),S=a.n(y),N=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={spinning:!1,margin:0,itemHeight:0},a.spin=a.spin.bind(Object(w.a)(a)),a.stop=a.stop.bind(Object(w.a)(a)),a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"startAnimation",value:function(){this.setState({spinning:!0,margin:0})}},{key:"spin",value:function(){setTimeout(this.startAnimation.bind(this),this.props.timer)}},{key:"stop",value:function(){setTimeout(this.goToReel.bind(this),this.props.timer)}},{key:"goToReel",value:function(){var e=this.props.item*this.state.itemheight*-1;this.setState({margin:e+"px",spinning:!1})}},{key:"componentDidMount",value:function(){var e=document.getElementById("firstItem").clientHeight;this.setState({itemheight:e})}},{key:"render",value:function(){var e="";return this.state.spinning&&(e=S.a.spinning),i.a.createElement("div",{className:S.a.col},i.a.createElement("ul",{className:e,style:{marginTop:this.state.margin}},i.a.createElement("li",{id:"firstItem"},i.a.createElement("img",{src:a(49)})),i.a.createElement("li",null,i.a.createElement("img",{src:a(62)})),i.a.createElement("li",null,i.a.createElement("img",{src:a(78)})),i.a.createElement("li",null,i.a.createElement("img",{src:a(79)})),i.a.createElement("li",null,i.a.createElement("img",{src:a(49)})),i.a.createElement("li",null,i.a.createElement("img",{src:a(80)})),i.a.createElement("li",null,i.a.createElement("img",{src:a(49)})),i.a.createElement("li",null,i.a.createElement("img",{src:a(62)}))))}}]),t}(i.a.Component),O=a(52),k=a(54),C=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={reel1:1,reel2:4,reel3:2,lastWin:0,balance:0,bet:1,winnerClassName:_.a.winner},a.getBalance(),a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"getBalance",value:function(){var e=window.Base58.decode(window.Cs_PublicKey);window.SignCS.Connect().WalletBalanceGet(e,function(e){if(e.status.code>0&&"Not found"!=e.status.message)this.setState({balance:"error"});else{var t=parseFloat(e.balance.integral+e.balance.fraction*Math.pow(10,-18)).toFixed(2);this.setState({balance:t})}}.bind(this))}},{key:"spinReels",value:function(){this._child1.spin(),this._child2.spin(),this._child3.spin(),this.setState({balance:this.state.balance-this.state.bet})}},{key:"result",value:function(e){var t=JSON.parse(e.smart_contract_result.v_string);console.log(t),this.setState({reel1:t.result.Reels[0],reel2:t.result.Reels[1],reel3:t.result.Reels[2],lastWin:t.result.win,balance:0}),this._child1.stop(),this._child2.stop(),this._child3.stop(),this.getBalance(),t.result.resultIsSuccess&&setTimeout(this.winSplash.bind(this),1e3)}},{key:"winSplash",value:function(){this.setState({winnerClassName:_.a.winner+" "+_.a.winActive}),setTimeout(this.stopSplash.bind(this),6e3)}},{key:"stopSplash",value:function(){this.setState({winnerClassName:_.a.winner})}},{key:"betAdd",value:function(){this.setState({bet:this.state.bet+1})}},{key:"betRemove",value:function(){this.setState({bet:this.state.bet-1})}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:_.a.gridcontainer},i.a.createElement("div",{className:_.a.SLOTS},i.a.createElement("div",{className:_.a.arrowRight}),i.a.createElement("div",{className:_.a.arrowLeft}),i.a.createElement("div",{className:this.state.winnerClassName}),i.a.createElement("div",{className:_.a.spinnercontainer},i.a.createElement(N,{item:this.state.reel1,ref:function(t){e._child1=t},timer:"100"}),i.a.createElement(N,{item:this.state.reel2,ref:function(t){e._child2=t},timer:"200"}),i.a.createElement(N,{item:this.state.reel3,ref:function(t){e._child3=t},timer:"400"}))),i.a.createElement("div",{className:_.a.Balance},i.a.createElement("div",{className:_.a.topWrap},i.a.createElement("h2",null,"Balance"),i.a.createElement("h3",null,this.state.balance))),i.a.createElement("div",{className:_.a.Win},i.a.createElement("div",{className:_.a.topWrap},i.a.createElement("h2",null,"Last Win"),i.a.createElement("h3",null,this.state.lastWin,".00 CS"))),i.a.createElement("div",{className:_.a.LOGO},i.a.createElement("h1",null,"CS",i.a.createElement("em",null,"SLOTS"))),i.a.createElement("div",{className:_.a.SPIN},i.a.createElement(f,{bet:this.state.bet,onPlaceBet:this.spinReels.bind(this),callback:this.result.bind(this)})),i.a.createElement("div",{className:_.a.Bet},i.a.createElement("div",{className:_.a.topWrap},i.a.createElement("h2",null,"Bet"),i.a.createElement("h3",null,this.state.bet," CS"))),i.a.createElement("div",{className:_.a.Add},i.a.createElement(O.a,{onClick:this.betAdd.bind(this),icon:k.b})),i.a.createElement("div",{className:_.a.Remove},i.a.createElement(O.a,{onClick:this.betRemove.bind(this),icon:k.a}))))}}]),t}(i.a.Component),G=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return window.Url||window.Cs_PrivateKey||window.Cs_PublicKey?i.a.createElement(i.a.Fragment,null,i.a.createElement(C,null)):i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{to:{pathname:"/login",search:""}}))}}]),t}(i.a.Component),j=a(146),W=a(144),T=a(141),B=a(65),K=a.n(B),R=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={privateKey:"",publicKey:"",nodeUrl:"https://proxy.cap.davidwalsh.dev"},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"privateKey",value:function(e){this.setState({privateKey:e.target.value})}},{key:"publicKey",value:function(e){this.setState({publicKey:e.target.value})}},{key:"nodeUrl",value:function(e){this.setState({nodeUrl:e.target.value})}},{key:"submitLogin",value:function(){window.Url=this.state.nodeUrl,window.Cs_PrivateKey=this.state.privateKey,window.Cs_PublicKey=this.state.publicKey,window.Url&&window.Cs_PrivateKey&&window.Cs_PublicKey&&this.props.history.push("/")}},{key:"render",value:function(){return i.a.createElement("div",{className:_.a.gridcontainer},i.a.createElement("div",{className:_.a.SLOTS},i.a.createElement("div",{className:K.a.loginWrap},i.a.createElement(T.a,{component:"main",maxWidth:"xs"},i.a.createElement(r.a,null),i.a.createElement("div",{className:_.a.paper},i.a.createElement("div",{className:_.a.form,noValidate:!0},i.a.createElement(W.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"privateKey",label:"Private Key",name:"privateKey",autoFocus:!0,onChange:this.privateKey.bind(this)}),i.a.createElement(W.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"publicKey",label:"Public Key",name:"publicKey",autoFocus:!0,onChange:this.publicKey.bind(this)}),i.a.createElement(W.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"Node",label:"Node",name:"Node",autoFocus:!0,value:"https://proxy.cap.davidwalsh.dev",onChange:this.nodeUrl.bind(this)}),i.a.createElement(j.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:_.a.submit,onClick:this.submitLogin.bind(this)},"Sign In")))))),i.a.createElement("div",{className:_.a.Balance},i.a.createElement("div",{className:_.a.topWrap},i.a.createElement("h2",null,"Balance"),i.a.createElement("h3",null,"0.00"))),i.a.createElement("div",{className:_.a.Win},i.a.createElement("div",{className:_.a.topWrap},i.a.createElement("h2",null,"Last Win"),i.a.createElement("h3",null,"0.00"))),i.a.createElement("div",{className:_.a.LOGO},i.a.createElement("h1",null,"CS",i.a.createElement("em",null,"SLOTS"))),i.a.createElement("div",{className:_.a.SPIN}),i.a.createElement("div",{className:_.a.Bet}))}}]),t}(i.a.Component),x=a(47),L=a(69),P=Object(L.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:x.a.A400},background:{default:"#fff"}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(97);l.a.render(i.a.createElement(c.a,{theme:P},i.a.createElement(r.a,null),i.a.createElement(o.a,{basename:"/"},i.a.createElement("div",null,i.a.createElement(m.b,{path:"/",component:G}),i.a.createElement(m.b,{path:"/login",component:R})))),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[73,1,2]]]);
//# sourceMappingURL=main.113f2e69.chunk.js.map